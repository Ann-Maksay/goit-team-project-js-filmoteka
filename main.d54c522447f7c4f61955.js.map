{"version":3,"sources":["webpack:///./templates/card-film.hbs","webpack:///./images/vector.svg","webpack:///./HTML/footer.html","webpack:///./js/footer.js","webpack:///./js/backToTop.js","webpack:///./js/modalsBtns.js","webpack:///./js/modal.js","webpack:///./main.js","webpack:///./js/refs.js","webpack:///./js/queve-films.js","webpack:///./js/watched-films.js","webpack:///./js/libraryMarkup.js","webpack:///./js/spiner.js"],"names":["Handlebars","module","exports","template","container","depth0","helpers","partials","data","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","code","___HTML_LOADER_GET_SOURCE_FROM_IMPORT___","refs","footer","insertAdjacentHTML","markupFooter","openModalRef","document","querySelector","lightboxOverlayRef","lightboxRef","onCloseModal","classList","remove","body","window","removeEventListener","onCloseModalESC","event","addEventListener","preventDefault","add","toTopBtnsRef","optimizedScroll","_","throttle","scrollTop","documentElement","scrollTo","top","behavior","btnFunction","handleBtnWatched","eventTarget","target","id","dataset","contains","addDelFunctions","addToWatched","watched","libraryMarkap","watchedlistMarkup","deleteFromWatched","handleBtnQueue","addToQueue","queue","queueListMarkup","deleteFromQueue","arryW","JSON","parse","localStorage","getItem","push","setItem","stringify","includes","secondTarget","this","replace","textContent","arryQ","index","indexOf","splice","axios","defaults","baseURL","params","api_key","contentRef","modalRef","closeBtnRef","filmCardRef","fetchDetails","get","console","log","message","state","isActive","createTemplate","poster_path","original_title","vote_average","vote_count","popularity","genres","overview","genresElem","reduce","acc","el","name","queueClass","watchedClass","queueMessage","watchedMessage","watchedBtn","queueBtn","openModal","e","closeModal","currentTarget","innerHTML","innerWidth","logo","header","headerBg","headerTitle","homeLink","libraryLink","inputForm","paginationRef","listRef","errorRef","searchPagination","filmsContainer","ulRef","queveListFilms","fetch","then","resolve","json","formattedGeners","map","item","join","release_date","split","year","yearRelease","markup","cardMarkup","watchedListFilms","res","buttonQueveRef","buttonWatchedRef","spiner","showSpin","length","forEach","hideSpin","spinRef"],"mappings":"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","file":"main.d54c522447f7c4f61955.js","sourcesContent":["var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"list-item\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":31},\"end\":{\"line\":1,\"column\":37}}}) : helper)))\n    + \"\\\">\\r\\n    <div class=\\\"film-card\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":36},\"end\":{\"line\":2,\"column\":42}}}) : helper)))\n    + \"\\\">\\r\\n\\r\\n        <div class='img-container'><img class=\\\"film-img\\\" src=\\\"https://image.tmdb.org/t/p/w300\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":4,\"column\":93},\"end\":{\"line\":4,\"column\":108}}}) : helper)))\n    + \"\\\"\\r\\n                alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":21},\"end\":{\"line\":5,\"column\":30}}}) : helper)))\n    + \"\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":41},\"end\":{\"line\":5,\"column\":47}}}) : helper)))\n    + \"\\\"></div>\\r\\n        <h3 class=\\\"film-title\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":40},\"end\":{\"line\":6,\"column\":46}}}) : helper)))\n    + \"\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":48},\"end\":{\"line\":6,\"column\":57}}}) : helper)))\n    + \"</h3>\\r\\n        <div class=\\\"description\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":42},\"end\":{\"line\":7,\"column\":48}}}) : helper)))\n    + \"\\\">\\r\\n            <p class=\\\"description-title\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":50},\"end\":{\"line\":8,\"column\":56}}}) : helper)))\n    + \"\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"formattedGeners\") || (depth0 != null ? lookupProperty(depth0,\"formattedGeners\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"formattedGeners\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":58},\"end\":{\"line\":8,\"column\":77}}}) : helper)))\n    + \"</p>\\r\\n            <p class=\\\"strip description-title\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":56},\"end\":{\"line\":9,\"column\":62}}}) : helper)))\n    + \"\\\">|</p>\\r\\n            <p class=\\\"description-title\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":50},\"end\":{\"line\":10,\"column\":56}}}) : helper)))\n    + \"\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"yearRelease\") || (depth0 != null ? lookupProperty(depth0,\"yearRelease\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"yearRelease\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":58},\"end\":{\"line\":10,\"column\":73}}}) : helper)))\n    + \"</p>\\r\\n        </div>\\r\\n    </div>\\r\\n</li>\";\n},\"useData\":true});","module.exports = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik03IDEzLjE4OEw2LjAyIDEyLjIxNzdDMi4zOCA5LjAyOTYxIDAgNi44ODEwOSAwIDQuMjQ3NDNDMCAyLjA5ODkxIDEuNjggMC40MzU1NDcgMy44NSAwLjQzNTU0N0M1LjA0IDAuNDM1NTQ3IDYuMjMgMC45OTAwMDIgNyAxLjg5MDk5QzcuNzcgMC45OTAwMDIgOC45NiAwLjQzNTU0NyAxMC4xNSAwLjQzNTU0N0MxMi4zMiAwLjQzNTU0NyAxNCAyLjA5ODkxIDE0IDQuMjQ3NDNDMTQgNi44ODEwOSAxMS42MiA5LjAyOTYxIDcuOTggMTIuMjE3N0w3IDEzLjE4OFoiIGZpbGw9IiNGRjZCMDgiLz4NCjwvc3ZnPg0K\"","// Imports\nvar ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___ = require(\"../../node_modules/html-loader/dist/runtime/getUrl.js\");\nvar ___HTML_LOADER_IMPORT_0___ = require(\"../images/vector.svg\");\n// Module\nvar ___HTML_LOADER_REPLACEMENT_0___ = ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___(___HTML_LOADER_IMPORT_0___);\nvar code = \"<div class=\\\"container\\\"> <div class=\\\"footer-text\\\"> <div> <span>© 2021 | All Rights Reserved |</span> </div> <div class=\\\"footer-dev\\\"> <span>Developed with</span> <img src=\\\"\" + ___HTML_LOADER_REPLACEMENT_0___ + \"\\\" alt=\\\"\\\" width=\\\"14\\\" class=\\\"heart\\\"> <span>by <a href=\\\"\\\" class=\\\"link-modal\\\">GoIT Students</a></span> </div> <div class=\\\"lightbox\\\"> <div class=\\\"lightbox__overlay\\\"></div> <div class=\\\"lightbox__content\\\"> <ul class=\\\"group-list\\\"> <li class=\\\"content-el\\\"> <a href=\\\"https://github.com/Roman-Siratsky\\\" class=\\\"item-footer\\\">Roman</a> </li> <li class=\\\"content-el\\\"> <a href=\\\"https://github.com/Ilya057\\\" class=\\\"item-footer\\\">Ilya</a> </li> <li class=\\\"content-el\\\"> <a href=\\\"https://github.com/Yaroslav-ciber\\\" class=\\\"item-footer\\\">Yaroslav</a> </li> <li class=\\\"content-el\\\"> <a href=\\\"https://github.com/Dastan-Asl\\\" class=\\\"item-footer\\\">Dastan</a> </li> <li class=\\\"content-el\\\"> <a href=\\\"https://github.com/SmKaterina\\\" class=\\\"item-footer\\\">Katerina</a> </li> <li class=\\\"content-el\\\"> <a href=\\\"https://github.com/Ann-Maksay\\\" class=\\\"item-footer\\\">Anna</a> </li> <li class=\\\"content-el\\\"> <a href=\\\"https://github.com/AndriiPotap\\\" class=\\\"item-footer\\\">Andrii</a> </li> </ul> </div> </div> </div></div>\";\n// Exports\nmodule.exports = code;","import markupFooter from '../HTML/footer.html';\r\n\r\nimport refs from './refs.js';\r\n\r\nrefs.footer.insertAdjacentHTML('afterbegin', markupFooter);\r\n\r\n// =====================================>\r\nconst openModalRef = document.querySelector('.link-modal');\r\nconst lightboxOverlayRef = document.querySelector('.lightbox__overlay');\r\nconst lightboxRef = document.querySelector('.lightbox');\r\n\r\nopenModalRef.addEventListener('click', onOpenModal);\r\nlightboxOverlayRef.addEventListener('click', onCloseModal);\r\n\r\nfunction onOpenModal(event) {\r\n  event.preventDefault();\r\n  lightboxRef.classList.add('is-open');\r\n    refs.body.classList.add('content-hidden')\r\n\r\n  window.addEventListener('keydown', onCloseModalESC);\r\n}\r\n\r\nfunction onCloseModal() {\r\n  lightboxRef.classList.remove('is-open');\r\n\r\n  refs.body.classList.remove('content-hidden')\r\n\r\n  window.removeEventListener('keydown', onCloseModalESC);\r\n}\r\n\r\nfunction onCloseModalESC(event) {\r\n  if (event.code === 'Escape') {\r\n    onCloseModal();\r\n  }\r\n}\r\n","import _ from 'lodash';\r\n\r\nconst toTopBtnsRef = document.querySelector('.toTopBtn');\r\n\r\nfunction scrollIvent() {\r\n  if (\r\n    document.body.scrollTop > 500 ||\r\n    document.documentElement.scrollTop > 500\r\n  ) {\r\n    toTopBtnsRef.classList.remove('is-hidden');\r\n  } else {\r\n    toTopBtnsRef.classList.add('is-hidden');\r\n  }\r\n}\r\n\r\nfunction toTop() {\r\n  window.scrollTo({\r\n    top: 0,\r\n    behavior: 'smooth',\r\n  });\r\n  toTopBtnsRef.classList.add('is-hidden');\r\n}\r\n\r\nconst optimizedScroll = _.throttle(scrollIvent, 500);\r\n\r\ntoTopBtnsRef.addEventListener('click', toTop);\r\nwindow.addEventListener('scroll', optimizedScroll);\r\n","import libraryMarkap from './libraryMarkup';\r\n\r\nconst btnFunction = {\r\n  handleBtnWatched(event) {\r\n    const eventTarget = event.target;\r\n\r\n    const id = eventTarget.dataset.id;\r\n    if (eventTarget.classList.contains('add-btn')) {\r\n      addDelFunctions.addToWatched(id, eventTarget);\r\n\r\n      const watched = document.querySelector('.js-watched-button');\r\n      if (watched) {\r\n        if (watched.classList.contains('active-btn')) {\r\n          libraryMarkap.watchedlistMarkup();\r\n        }\r\n      }\r\n      return;\r\n    }\r\n    if (eventTarget.classList.contains('delete-btn')) {\r\n      addDelFunctions.deleteFromWatched(id, eventTarget);\r\n      const watched = document.querySelector('.js-watched-button');\r\n      if (watched) {\r\n        if (watched.classList.contains('active-btn')) {\r\n          libraryMarkap.watchedlistMarkup();\r\n        }\r\n      }\r\n      return;\r\n    }\r\n  },\r\n\r\n  handleBtnQueue(event) {\r\n    const eventTarget = event.target;\r\n\r\n    const id = eventTarget.dataset.id;\r\n    if (eventTarget.classList.contains('add-btn')) {\r\n      addDelFunctions.addToQueue(id, eventTarget);\r\n\r\n      const queue = document.querySelector('.js-queve-button');\r\n      if (queue) {\r\n        if (queue.classList.contains('active-btn')) {\r\n          libraryMarkap.queueListMarkup();\r\n        }\r\n      }\r\n      return;\r\n    }\r\n    if (eventTarget.classList.contains('delete-btn')) {\r\n      addDelFunctions.deleteFromQueue(id, eventTarget);\r\n\r\n      const queue = document.querySelector('.js-queve-button');\r\n      if (queue) {\r\n        if (queue.classList.contains('active-btn')) {\r\n          libraryMarkap.queueListMarkup();\r\n        }\r\n      }\r\n      return;\r\n    }\r\n  },\r\n};\r\n\r\nconst addDelFunctions = {\r\n  addToWatched(id, eventTarget) {\r\n    const arryW = [...JSON.parse(localStorage.getItem('watched'))];\r\n    arryW.push(id);\r\n    localStorage.setItem('watched', JSON.stringify(arryW));\r\n\r\n    const arryQ = [...JSON.parse(localStorage.getItem('queue'))];\r\n    if (arryQ.includes(id)) {\r\n      const secondTarget = document.querySelector('.queue-btn');\r\n      this.deleteFromQueue(id, secondTarget);\r\n\r\n      const queue = document.querySelector('.js-queve-button');\r\n      if (queue) {\r\n        if (queue.classList.contains('active-btn')) {\r\n          libraryMarkap.queueListMarkup();\r\n        }\r\n      }\r\n    }\r\n\r\n    eventTarget.classList.replace('add-btn', 'delete-btn');\r\n    eventTarget.textContent = 'DELETE FROM WATCHED';\r\n  },\r\n\r\n  addToQueue(id, eventTarget) {\r\n    const arryQ = [...JSON.parse(localStorage.getItem('queue'))];\r\n    arryQ.push(id);\r\n    localStorage.setItem('queue', JSON.stringify(arryQ));\r\n\r\n    const arryW = [...JSON.parse(localStorage.getItem('watched'))];\r\n    if (arryW.includes(id)) {\r\n      const secondTarget = document.querySelector('.watched-btn');\r\n      this.deleteFromWatched(id, secondTarget);\r\n\r\n      const watched = document.querySelector('.js-watched-button');\r\n      if (watched) {\r\n        if (watched.classList.contains('active-btn')) {\r\n          libraryMarkap.watchedlistMarkup();\r\n        }\r\n      }\r\n    }\r\n\r\n    eventTarget.classList.replace('add-btn', 'delete-btn');\r\n    eventTarget.textContent = 'DELETE FROM QUEUE';\r\n  },\r\n\r\n  deleteFromWatched(id, eventTarget) {\r\n    const arryW = [...JSON.parse(localStorage.getItem('watched'))];\r\n    const index = arryW.indexOf(id);\r\n    arryW.splice(index, 1);\r\n    localStorage.setItem('watched', JSON.stringify(arryW));\r\n\r\n    eventTarget.classList.replace('delete-btn', 'add-btn');\r\n    eventTarget.textContent = 'ADD TO WATCHED';\r\n  },\r\n\r\n  deleteFromQueue(id, eventTarget) {\r\n    const arryQ = [...JSON.parse(localStorage.getItem('queue'))];\r\n    const index = arryQ.indexOf(id);\r\n    arryQ.splice(index, 1);\r\n    localStorage.setItem('queue', JSON.stringify(arryQ));\r\n\r\n    eventTarget.classList.replace('delete-btn', 'add-btn');\r\n    eventTarget.textContent = 'ADD TO QUEUE';\r\n  },\r\n};\r\n\r\nexport default btnFunction;\r\n","import axios from 'axios';\r\nimport btnFunction from './modalsBtns';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\r\naxios.defaults.params = { api_key: 'c8971b346877ee4bba0d277ad44911fe' };\r\n\r\nconst refs = {\r\n  contentRef: document.querySelector('.modal_content'),\r\n  modalRef: document.querySelector('.overlay'),\r\n  closeBtnRef: document.querySelector('.modal_close_btn'),\r\n  filmCardRef: document.querySelector('#data-conteiner'),\r\n};\r\n\r\nconst fetchDetails = async id => {\r\n  try {\r\n    const { data } = await axios.get(`/movie/${id}&append_to_response=images`);\r\n    return data;\r\n  } catch (error) {\r\n    console.log(error.message);\r\n  }\r\n};\r\n\r\nconst state = {\r\n  isActive: false,\r\n};\r\n\r\nconst createTemplate = async id => {\r\n  const {\r\n    poster_path,\r\n    original_title,\r\n    vote_average,\r\n    vote_count,\r\n    popularity,\r\n    genres,\r\n    overview,\r\n  } = await fetchDetails(id);\r\n\r\n  const genresElem = genres.reduce((acc, el) => {\r\n    return acc + ' ' + el.name;\r\n  }, ``);\r\n\r\n  //код для слушателей на кнопки модалки. делал другой человек\r\n  let queueClass = 'add-btn';\r\n  let watchedClass = 'add-btn';\r\n  let queueMessage = 'ADD TO QUEUE';\r\n  let watchedMessage = 'ADD TO WATCHED';\r\n\r\n  if (localStorage.getItem('queue')) {\r\n    const queueArry = [...JSON.parse(localStorage.getItem('queue'))];\r\n    if (queueArry.includes(id)) {\r\n      queueClass = 'delete-btn';\r\n      queueMessage = 'DELETE FROM QUEUE';\r\n    } else {\r\n      queueClass = 'add-btn';\r\n      queueMessage = 'ADD TO QUEUE';\r\n    }\r\n  }\r\n  if (localStorage.getItem('watched')) {\r\n    const watchedArry = [...JSON.parse(localStorage.getItem('watched'))];\r\n    if (watchedArry.includes(id)) {\r\n      watchedClass = 'delete-btn';\r\n      watchedMessage = 'DELETE FROM WATCHED';\r\n    } else {\r\n      watchedClass = 'add-btn';\r\n      watchedMessage = 'ADD TO WATCHED';\r\n    }\r\n  }\r\n  //конец\r\n\r\n  refs.contentRef.insertAdjacentHTML(\r\n    'beforeend',\r\n    `<div class='modal_container'>\r\n        <img class=\"modal_image\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\"/>\r\n                    <ul class='modal_info'>\r\n                        <li><h2 class=\"modal_title\">${original_title}<h2></li>\r\n                        <li>\r\n                            <div class=\"modal_stats\">\r\n                                <p class=\"modal_text w108\">Vote / Votes</p>\r\n                                <p class=\"modal_text\"><span class=\"modal_score\">${vote_average}</span> / ${vote_count}</p>\r\n                            </div>\r\n                            <div class=\"modal_stats\">\r\n                                <p class=\"modal_text w108\">Popularity</p>\r\n                                <p class=\"modal_text\">${popularity}</p>\r\n                            </div>\r\n                            <div class=\"modal_stats\">\r\n                                <p class=\"modal_text w108\">Original Title</p>\r\n                                <p class=\"modal_text\">${original_title}</p>\r\n                            </div>\r\n                            <div class=\"modal_stats\">\r\n                                <p class=\"modal_text w108\">Genres</p>\r\n                                <p class=\"modal_text\">${genresElem}</p>\r\n                            </div>\r\n                        </li>\r\n                        <li><h2 class=\"modal_about\">About</h2></li>\r\n                        <li>\r\n                            <article class=\"modal_article\">${overview}</article>\r\n                        </li>\r\n                        <li class=\"button_cont\">\r\n                            <button class=\"modal_btn watched-btn ${watchedClass}\" data-id=\"${id}\">${watchedMessage}</button>\r\n                            <button class=\"modal_btn queue-btn ${queueClass}\" data-id=\"${id}\">${queueMessage}</button>\r\n                        </li>\r\n                    </ul></div>`,\r\n  );\r\n\r\n  //код для слушателей на кнопки модалки. делал другой человек\r\n  const watchedBtn = document.querySelector('.watched-btn');\r\n  const queueBtn = document.querySelector('.queue-btn');\r\n\r\n  watchedBtn.addEventListener('click', btnFunction.handleBtnWatched);\r\n  queueBtn.addEventListener('click', btnFunction.handleBtnQueue);\r\n  //конец\r\n};\r\n\r\nconst openModal = async e => {\r\n  if (e.target && e.target.dataset && e.target.dataset.id) {\r\n    createTemplate(e.target.dataset.id);\r\n    refs.modalRef.classList.remove('dn');\r\n    state.isActive = true;\r\n  }\r\n};\r\n\r\nconst closeModal = e => {\r\n  if (state.isActive) {\r\n    if (\r\n      (e.code && e.code === 'Escape') ||\r\n      e.currentTarget === e.target ||\r\n      e.currentTarget.classList.contains('modal_close_btn')\r\n    ) {\r\n      //код для слушателей на кнопки модалки. делал другой человек\r\n      const watchedBtn = document.querySelector('.watched-btn');\r\n      const queueBtn = document.querySelector('.queue-btn');\r\n\r\n      watchedBtn.removeEventListener('click', btnFunction.handleBtnWatched);\r\n      queueBtn.removeEventListener('click', btnFunction.handleBtnQueue);\r\n      //конец\r\n      refs.modalRef.classList.add('dn');\r\n      refs.contentRef.innerHTML = '';\r\n      state.isActive = false;\r\n    }\r\n  }\r\n};\r\nrefs.filmCardRef.addEventListener('click', openModal);\r\nrefs.modalRef.addEventListener('click', closeModal);\r\nrefs.closeBtnRef.addEventListener('click', closeModal);\r\nwindow.addEventListener('keydown', closeModal);\r\n","import './main.scss';\r\nimport './js/footer.js';\r\nimport './js/backToTop';\r\nimport './js/modal';\r\n//import test from './js/example';\r\n\r\n// ключ для использования API\r\n//const key = 'aef9cffb51e8fe7e1c3e621e64df0279';\r\n\r\nif (window.innerWidth <= 767) {\r\n  document.body.classList.add('js-mobile');\r\n}\r\n\r\nif (!localStorage.getItem('queue')) {\r\n  const arryQ = [];\r\n  localStorage.setItem('queue', JSON.stringify(arryQ));\r\n}\r\nif (!localStorage.getItem('watched')) {\r\n  const arryW = [];\r\n  localStorage.setItem('watched', JSON.stringify(arryW));\r\n}\r\n","const refs = {\r\n  logo: document.querySelector('.logo'),\r\n  header: document.querySelector('header'),\r\n  headerBg: document.querySelector('.header-bg-home'),\r\n  headerTitle: document.querySelector('.title'),\r\n  homeLink: document.querySelector('.home-link'),\r\n  libraryLink: document.querySelector('.library-link'),\r\n  footer: document.querySelector('footer'),\r\n  inputForm: document.querySelector('.search-box-home'),\r\n  paginationRef: document.querySelector('.js-pagination'),\r\n  listRef: document.querySelector('.film-list'),\r\n  errorRef: document.querySelector('#searchError'),\r\n  searchPagination: document.querySelector('.search-pagination'),\r\n  filmsContainer: document.querySelector('.js-films'),\r\n};\r\n\r\nexport default refs;\r\n","import cardMarkup from '../templates/card-film.hbs';\r\n\r\nconst key = 'aef9cffb51e8fe7e1c3e621e64df0279';\r\nconst ulRef = document.querySelector('.film-list');\r\n\r\nconst queveListFilms = id => {\r\n  return fetch(`https://api.themoviedb.org/3/movie/${id}?api_key=${key}`)\r\n    .then(resolve => resolve.json())\r\n    .then(data => {\r\n      data.formattedGeners = data.genres.map(item => item.name).join(', ');\r\n      const [year, month, day] = data.release_date.split('-');\r\n      data.yearRelease = year;\r\n      const markup = cardMarkup(data);\r\n      ulRef.insertAdjacentHTML('beforeend', markup);\r\n    });\r\n};\r\n\r\nexport default queveListFilms;\r\n","import cardMarkup from '../templates/card-film.hbs';\r\n\r\nconst key = 'aef9cffb51e8fe7e1c3e621e64df0279';\r\nconst ulRef = document.querySelector('.film-list');\r\n\r\nconst watchedListFilms = id => {\r\n  return fetch(`https://api.themoviedb.org/3/movie/${id}?api_key=${key}`)\r\n    .then(res => res.json())\r\n    .then(data => {\r\n      data.formattedGeners = data.genres.map(item => item.name).join(', ');\r\n      const [year, month, day] = data.release_date.split('-');\r\n      data.yearRelease = year;\r\n      const markup = cardMarkup(data);\r\n      ulRef.insertAdjacentHTML('beforeend', markup);\r\n    });\r\n};\r\n\r\nexport default watchedListFilms;","import queveListFilms from './queve-films';\r\nimport watchedListFilms from './watched-films.js';\r\nimport spiner from './spiner';\r\n\r\nconst buttonQueveRef = document.querySelector('.js-queve-button');\r\nconst buttonWatchedRef = document.querySelector('.js-watched-button');\r\nconst ulRef = document.querySelector('.film-list');\r\n\r\nconst libraryMarkap = {\r\n  queueListMarkup() {\r\n    if (buttonWatchedRef.classList.contains('active-btn')) {\r\n      buttonWatchedRef.classList.remove('active-btn');\r\n    }\r\n    if (!buttonQueveRef.classList.contains('active-btn')) {\r\n      buttonQueveRef.classList.add('active-btn');\r\n    }\r\n\r\n    ulRef.innerHTML = '';\r\n    spiner.showSpin();\r\n    const arry = [...JSON.parse(localStorage.getItem('queue'))];\r\n    if (arry.length > 0) {\r\n      const arr = JSON.parse(localStorage.getItem('queue'));\r\n      arr.forEach(id => queveListFilms(id));\r\n    } else {\r\n      ulRef.insertAdjacentHTML(\r\n        'beforeend',\r\n        `<div class='error-library-container'>\r\n        <p class=\"error-library\">Ваша библиотека пока пуста!</p>\r\n      </div>`,\r\n      );\r\n    }\r\n    spiner.hideSpin();\r\n  },\r\n\r\n  watchedlistMarkup() {\r\n    if (buttonQueveRef.classList.contains('active-btn')) {\r\n      buttonQueveRef.classList.remove('active-btn');\r\n    }\r\n    if (!buttonWatchedRef.classList.contains('active-btn')) {\r\n      buttonWatchedRef.classList.add('active-btn');\r\n    }\r\n    ulRef.innerHTML = '';\r\n    spiner.showSpin();\r\n    const arry = [...JSON.parse(localStorage.getItem('watched'))];\r\n    if (arry.length > 0) {\r\n      const arr = JSON.parse(localStorage.getItem('watched'));\r\n      arr.forEach(id => watchedListFilms(id));\r\n    } else {\r\n      ulRef.insertAdjacentHTML(\r\n        'beforeend',\r\n        `<div class='error-library-container'>\r\n        <p class=\"error-library\">Ваша библиотека пока пуста!</p>\r\n      </div>`,\r\n      );\r\n    }\r\n    spiner.hideSpin();\r\n  },\r\n};\r\n\r\nexport default libraryMarkap;\r\n","const spinRef = document.querySelector('.js-spin');\r\n\r\n\r\nconst spiner = {\r\n\r\n    showSpin() {\r\n        spinRef.classList.remove('is-hidden');\r\n    },\r\n\r\n    hideSpin() {\r\n        spinRef.classList.add('is-hidden');\r\n    }\r\n}\r\n\r\nexport default spiner;"],"sourceRoot":""}