(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"+3i2":function(e,t,n){var a=n("mp5j");e.exports=(a.default||a).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,a,l){var o,i=null!=t?t:e.nullContext||{},c=e.hooks.helperMissing,s="function",r=e.escapeExpression,d=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<li class="list-item" data-id="'+r(typeof(o=null!=(o=d(n,"id")||(null!=t?d(t,"id"):t))?o:c)===s?o.call(i,{name:"id",hash:{},data:l,loc:{start:{line:1,column:31},end:{line:1,column:37}}}):o)+'">\r\n    <div class="film-card" data-id="'+r(typeof(o=null!=(o=d(n,"id")||(null!=t?d(t,"id"):t))?o:c)===s?o.call(i,{name:"id",hash:{},data:l,loc:{start:{line:2,column:36},end:{line:2,column:42}}}):o)+'">\r\n\r\n        <div class=\'img-container\'><img class="film-img" src="https://image.tmdb.org/t/p/w300'+r(typeof(o=null!=(o=d(n,"poster_path")||(null!=t?d(t,"poster_path"):t))?o:c)===s?o.call(i,{name:"poster_path",hash:{},data:l,loc:{start:{line:4,column:93},end:{line:4,column:108}}}):o)+'"\r\n                alt="'+r(typeof(o=null!=(o=d(n,"title")||(null!=t?d(t,"title"):t))?o:c)===s?o.call(i,{name:"title",hash:{},data:l,loc:{start:{line:5,column:21},end:{line:5,column:30}}}):o)+'" data-id="'+r(typeof(o=null!=(o=d(n,"id")||(null!=t?d(t,"id"):t))?o:c)===s?o.call(i,{name:"id",hash:{},data:l,loc:{start:{line:5,column:41},end:{line:5,column:47}}}):o)+'"></div>\r\n        <h3 class="film-title" data-id="'+r(typeof(o=null!=(o=d(n,"id")||(null!=t?d(t,"id"):t))?o:c)===s?o.call(i,{name:"id",hash:{},data:l,loc:{start:{line:6,column:40},end:{line:6,column:46}}}):o)+'">'+r(typeof(o=null!=(o=d(n,"title")||(null!=t?d(t,"title"):t))?o:c)===s?o.call(i,{name:"title",hash:{},data:l,loc:{start:{line:6,column:48},end:{line:6,column:57}}}):o)+'</h3>\r\n        <div class="description" data-id="'+r(typeof(o=null!=(o=d(n,"id")||(null!=t?d(t,"id"):t))?o:c)===s?o.call(i,{name:"id",hash:{},data:l,loc:{start:{line:7,column:42},end:{line:7,column:48}}}):o)+'">\r\n            <p class="description-title" data-id="'+r(typeof(o=null!=(o=d(n,"id")||(null!=t?d(t,"id"):t))?o:c)===s?o.call(i,{name:"id",hash:{},data:l,loc:{start:{line:8,column:50},end:{line:8,column:56}}}):o)+'">'+r(typeof(o=null!=(o=d(n,"formattedGeners")||(null!=t?d(t,"formattedGeners"):t))?o:c)===s?o.call(i,{name:"formattedGeners",hash:{},data:l,loc:{start:{line:8,column:58},end:{line:8,column:77}}}):o)+'</p>\r\n            <p class="strip description-title" data-id="'+r(typeof(o=null!=(o=d(n,"id")||(null!=t?d(t,"id"):t))?o:c)===s?o.call(i,{name:"id",hash:{},data:l,loc:{start:{line:9,column:56},end:{line:9,column:62}}}):o)+'">|</p>\r\n            <p class="description-title" data-id="'+r(typeof(o=null!=(o=d(n,"id")||(null!=t?d(t,"id"):t))?o:c)===s?o.call(i,{name:"id",hash:{},data:l,loc:{start:{line:10,column:50},end:{line:10,column:56}}}):o)+'">'+r(typeof(o=null!=(o=d(n,"yearRelease")||(null!=t?d(t,"yearRelease"):t))?o:c)===s?o.call(i,{name:"yearRelease",hash:{},data:l,loc:{start:{line:10,column:58},end:{line:10,column:73}}}):o)+"</p>\r\n        </div>\r\n    </div>\r\n</li>"},useData:!0})},BC0O:function(e,t){e.exports="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik03IDEzLjE4OEw2LjAyIDEyLjIxNzdDMi4zOCA5LjAyOTYxIDAgNi44ODEwOSAwIDQuMjQ3NDNDMCAyLjA5ODkxIDEuNjggMC40MzU1NDcgMy44NSAwLjQzNTU0N0M1LjA0IDAuNDM1NTQ3IDYuMjMgMC45OTAwMDIgNyAxLjg5MDk5QzcuNzcgMC45OTAwMDIgOC45NiAwLjQzNTU0NyAxMC4xNSAwLjQzNTU0N0MxMi4zMiAwLjQzNTU0NyAxNCAyLjA5ODkxIDE0IDQuMjQ3NDNDMTQgNi44ODEwOSAxMS42MiA5LjAyOTYxIDcuOTggMTIuMjE3N0w3IDEzLjE4OFoiIGZpbGw9IiNGRjZCMDgiLz4NCjwvc3ZnPg0K"},DZbl:function(e,t,n){var a='<div class="container"> <div class="footer-text"> <div> <span>© 2021 | All Rights Reserved |</span> </div> <div class="footer-dev"> <span>Developed with</span> <img src="'+n("vy/h")(n("BC0O"))+'" alt="" width="14" class="heart"> <span>by <a href="" class="link-modal">GoIT Students</a></span> </div> <div class="lightbox"> <div class="lightbox__overlay"></div> <div class="lightbox__content"> <ul class="group-list"> <li class="content-el"> <a href="https://github.com/Roman-Siratsky" class="item-footer">Roman</a> </li> <li class="content-el"> <a href="https://github.com/Ilya057" class="item-footer">Ilya</a> </li> <li class="content-el"> <a href="https://github.com/Yaroslav-ciber" class="item-footer">Yaroslav</a> </li> <li class="content-el"> <a href="https://github.com/Dastan-Asl" class="item-footer">Dastan</a> </li> <li class="content-el"> <a href="https://github.com/SmKaterina" class="item-footer">Katerina</a> </li> <li class="content-el"> <a href="https://github.com/Ann-Maksay" class="item-footer">Anna</a> </li> <li class="content-el"> <a href="https://github.com/AndriiPotap" class="item-footer">Andrii</a> </li> </ul> </div> </div> </div></div>';e.exports=a},HVBj:function(e,t,n){"use strict";n.r(t);n("OSpC");var a=n("DZbl"),l=n.n(a),o=n("mcqT");o.a.footer.insertAdjacentHTML("afterbegin",l.a);var i=document.querySelector(".link-modal"),c=document.querySelector(".lightbox__overlay"),s=document.querySelector(".lightbox");function r(){s.classList.remove("is-open"),o.a.body.classList.remove("content-hidden"),window.removeEventListener("keydown",d)}function d(e){"Escape"===e.code&&r()}i.addEventListener("click",(function(e){e.preventDefault(),s.classList.add("is-open"),o.a.body.classList.add("content-hidden"),window.addEventListener("keydown",d)})),c.addEventListener("click",r);var u=n("9va6"),m=n.n(u),p=document.querySelector(".toTopBtn");var h=m.a.throttle((function(){document.body.scrollTop>500||document.documentElement.scrollTop>500?p.classList.remove("is-hidden"):p.classList.add("is-hidden")}),500);p.addEventListener("click",(function(){window.scrollTo({top:0,behavior:"smooth"}),p.classList.add("is-hidden")})),window.addEventListener("scroll",h);n("hi3g"),n("IvQZ"),n("x3Br"),n("D/wG"),n("JBxO"),n("FdtR"),n("4NM0"),n("wcNg");var f=n("czhI"),v=n.n(f),g=(n("uQK7"),n("Xlt+"),n("Muwe"),n("y89P"),n("niLq")),b={handleBtnWatched:function(e){var t=e.target,n=t.dataset.id;if(t.classList.contains("add-btn")){y.addToWatched(n,t);var a=document.querySelector(".js-watched-button");a&&a.classList.contains("active-btn")&&g.a.watchedlistMarkup()}else if(t.classList.contains("delete-btn")){y.deleteFromWatched(n,t);var l=document.querySelector(".js-watched-button");l&&l.classList.contains("active-btn")&&g.a.watchedlistMarkup()}else;},handleBtnQueue:function(e){var t=e.target,n=t.dataset.id;if(t.classList.contains("add-btn")){y.addToQueue(n,t);var a=document.querySelector(".js-queve-button");a&&a.classList.contains("active-btn")&&g.a.queueListMarkup()}else if(t.classList.contains("delete-btn")){y.deleteFromQueue(n,t);var l=document.querySelector(".js-queve-button");l&&l.classList.contains("active-btn")&&g.a.queueListMarkup()}else;}},y={addToWatched:function(e,t){var n=[].concat(JSON.parse(localStorage.getItem("watched")));if(n.push(e),localStorage.setItem("watched",JSON.stringify(n)),[].concat(JSON.parse(localStorage.getItem("queue"))).includes(e)){var a=document.querySelector(".queue-btn");this.deleteFromQueue(e,a);var l=document.querySelector(".js-queve-button");l&&l.classList.contains("active-btn")&&g.a.queueListMarkup()}t.classList.replace("add-btn","delete-btn"),t.textContent="DELETE FROM WATCHED"},addToQueue:function(e,t){var n=[].concat(JSON.parse(localStorage.getItem("queue")));if(n.push(e),localStorage.setItem("queue",JSON.stringify(n)),[].concat(JSON.parse(localStorage.getItem("watched"))).includes(e)){var a=document.querySelector(".watched-btn");this.deleteFromWatched(e,a);var l=document.querySelector(".js-watched-button");l&&l.classList.contains("active-btn")&&g.a.watchedlistMarkup()}t.classList.replace("add-btn","delete-btn"),t.textContent="DELETE FROM QUEUE"},deleteFromWatched:function(e,t){var n=[].concat(JSON.parse(localStorage.getItem("watched"))),a=n.indexOf(e);n.splice(a,1),localStorage.setItem("watched",JSON.stringify(n)),t.classList.replace("delete-btn","add-btn"),t.textContent="ADD TO WATCHED"},deleteFromQueue:function(e,t){var n=[].concat(JSON.parse(localStorage.getItem("queue"))),a=n.indexOf(e);n.splice(a,1),localStorage.setItem("queue",JSON.stringify(n)),t.classList.replace("delete-btn","add-btn"),t.textContent="ADD TO QUEUE"}},S=b;function L(e,t,n,a,l,o,i){try{var c=e[o](i),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(a,l)}function w(e){return function(){var t=this,n=arguments;return new Promise((function(a,l){var o=e.apply(t,n);function i(e){L(o,a,l,i,c,"next",e)}function c(e){L(o,a,l,i,c,"throw",e)}i(void 0)}))}}v.a.defaults.baseURL="https://api.themoviedb.org/3",v.a.defaults.params={api_key:"c8971b346877ee4bba0d277ad44911fe"};var q={contentRef:document.querySelector(".modal_content"),modalRef:document.querySelector(".overlay"),closeBtnRef:document.querySelector(".modal_close_btn"),filmCardRef:document.querySelector("#data-conteiner")},D=function(){var e=w(regeneratorRuntime.mark((function e(t){var n,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v.a.get("/movie/"+t+"&append_to_response=images");case 3:return n=e.sent,a=n.data,e.abrupt("return",a);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0.message);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),E={isActive:!1},M=function(){var e=w(regeneratorRuntime.mark((function e(t){var n,a,l,o,i,c,s,r,d,u,m,p,h,f,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D(t);case 2:n=e.sent,a=n.poster_path,l=n.original_title,o=n.vote_average,i=n.vote_count,c=n.popularity,s=n.genres,r=n.overview,d=s.reduce((function(e,t){return e+" "+t.name}),""),u="add-btn",m="add-btn",p="ADD TO QUEUE",h="ADD TO WATCHED",localStorage.getItem("queue")&&([].concat(JSON.parse(localStorage.getItem("queue"))).includes(t)?(u="delete-btn",p="DELETE FROM QUEUE"):(u="add-btn",p="ADD TO QUEUE")),localStorage.getItem("watched")&&([].concat(JSON.parse(localStorage.getItem("watched"))).includes(t)?(m="delete-btn",h="DELETE FROM WATCHED"):(m="add-btn",h="ADD TO WATCHED")),q.contentRef.insertAdjacentHTML("beforeend",'<div class=\'modal_container\'>\n        <img class="modal_image" src="https://image.tmdb.org/t/p/w500/'+a+'"/>\n                    <ul class=\'modal_info\'>\n                        <li><h2 class="modal_title">'+l+'<h2></li>\n                        <li>\n                            <div class="modal_stats">\n                                <p class="modal_text w108">Vote / Votes</p>\n                                <p class="modal_text"><span class="modal_score">'+o+"</span> / "+i+'</p>\n                            </div>\n                            <div class="modal_stats">\n                                <p class="modal_text w108">Popularity</p>\n                                <p class="modal_text">'+c+'</p>\n                            </div>\n                            <div class="modal_stats">\n                                <p class="modal_text w108">Original Title</p>\n                                <p class="modal_text">'+l+'</p>\n                            </div>\n                            <div class="modal_stats">\n                                <p class="modal_text w108">Genres</p>\n                                <p class="modal_text">'+d+'</p>\n                            </div>\n                        </li>\n                        <li><h2 class="modal_about">About</h2></li>\n                        <li>\n                            <article class="modal_article">'+r+'</article>\n                        </li>\n                        <li class="button_cont">\n                            <button class="modal_btn watched-btn '+m+'" data-id="'+t+'">'+h+'</button>\n                            <button class="modal_btn queue-btn '+u+'" data-id="'+t+'">'+p+"</button>\n                        </li>\n                    </ul></div>"),f=document.querySelector(".watched-btn"),v=document.querySelector(".queue-btn"),f.addEventListener("click",S.handleBtnWatched),v.addEventListener("click",S.handleBtnQueue);case 22:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=function(){var e=w(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.target&&t.target.dataset&&t.target.dataset.id&&(M(t.target.dataset.id),q.modalRef.classList.remove("dn"),E.isActive=!0);case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(e){if(E.isActive&&(e.code&&"Escape"===e.code||e.currentTarget===e.target||e.currentTarget.classList.contains("modal_close_btn"))){var t=document.querySelector(".watched-btn"),n=document.querySelector(".queue-btn");t.removeEventListener("click",S.handleBtnWatched),n.removeEventListener("click",S.handleBtnQueue),q.modalRef.classList.add("dn"),q.contentRef.innerHTML="",E.isActive=!1}};if(q.filmCardRef.addEventListener("click",A),q.modalRef.addEventListener("click",I),q.closeBtnRef.addEventListener("click",I),window.addEventListener("keydown",I),window.innerWidth<=767&&document.body.classList.add("js-mobile"),!localStorage.getItem("queue")){localStorage.setItem("queue",JSON.stringify([]))}if(!localStorage.getItem("watched")){localStorage.setItem("watched",JSON.stringify([]))}},OSpC:function(e,t,n){},mcqT:function(e,t,n){"use strict";var a={logo:document.querySelector(".logo"),header:document.querySelector("header"),headerBg:document.querySelector(".header-bg-home"),headerTitle:document.querySelector(".title"),homeLink:document.querySelector(".home-link"),libraryLink:document.querySelector(".library-link"),footer:document.querySelector("footer"),inputForm:document.querySelector(".search-box-home"),paginationRef:document.querySelector(".js-pagination"),listRef:document.querySelector(".film-list"),errorRef:document.querySelector("#searchError"),searchPagination:document.querySelector(".search-pagination"),searchInput:document.querySelector(".js-search-input"),formRef:document.querySelector(".form-search-home"),filmsContainer:document.querySelector(".js-films")};t.a=a},niLq:function(e,t,n){"use strict";n("RtS0"),n("3dw1"),n("8cZI"),n("lmye"),n("D/wG"),n("JBxO"),n("FdtR"),n("Muwe"),n("aZFp");var a=n("+3i2"),l=n.n(a),o=document.querySelector(".film-list"),i=function(e){return fetch("https://api.themoviedb.org/3/movie/"+e+"?api_key=aef9cffb51e8fe7e1c3e621e64df0279").then((function(e){return e.json()})).then((function(e){e.formattedGeners=e.genres.map((function(e){return e.name})).join(", ");var t=e.release_date.split("-"),n=t[0];t[1],t[2];e.yearRelease=n;var a=l()(e);o.insertAdjacentHTML("beforeend",a)}))},c=document.querySelector(".film-list"),s=function(e){return fetch("https://api.themoviedb.org/3/movie/"+e+"?api_key=aef9cffb51e8fe7e1c3e621e64df0279").then((function(e){return e.json()})).then((function(e){e.formattedGeners=e.genres.map((function(e){return e.name})).join(", ");var t=e.release_date.split("-"),n=t[0];t[1],t[2];e.yearRelease=n;var a=l()(e);c.insertAdjacentHTML("beforeend",a)}))},r=n("pXQ4"),d=document.querySelector(".js-queve-button"),u=document.querySelector(".js-watched-button"),m=document.querySelector(".film-list"),p={queueListMarkup:function(){(u.classList.contains("active-btn")&&u.classList.remove("active-btn"),d.classList.contains("active-btn")||d.classList.add("active-btn"),m.innerHTML="",r.a.showSpin(),localStorage.getItem("queue"))?JSON.parse(localStorage.getItem("queue")).forEach((function(e){return i(e)})):m.insertAdjacentHTML("beforeend","<div class='error-library-container'>\n        <p class=\"error-library\">Ваша библиотека пока пуста!</p>\n      </div>");r.a.hideSpin()},watchedlistMarkup:function(){(d.classList.contains("active-btn")&&d.classList.remove("active-btn"),u.classList.contains("active-btn")||u.classList.add("active-btn"),m.innerHTML="",r.a.showSpin(),localStorage.getItem("watched"))?JSON.parse(localStorage.getItem("watched")).forEach((function(e){return s(e)})):m.insertAdjacentHTML("beforeend","<div class='error-library-container'>\n        <p class=\"error-library\">Ваша библиотека пока пуста!</p>\n      </div>");r.a.hideSpin()}};t.a=p},pXQ4:function(e,t,n){"use strict";var a=document.querySelector(".js-spin"),l={showSpin:function(){a.classList.remove("is-hidden")},hideSpin:function(){a.classList.add("is-hidden")}};t.a=l}},[["HVBj",0,1]]]);
//# sourceMappingURL=main.db64b5836244bb43e7bf.js.map