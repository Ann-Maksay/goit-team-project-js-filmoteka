{"version":3,"sources":["webpack:///./images/vector.svg","webpack:///./HTML/footer.html","webpack:///./js/footer.js","webpack:///./js/backToTop.js","webpack:///./js/modal.js","webpack:///./main.js","webpack:///./js/refs.js"],"names":["module","exports","code","___HTML_LOADER_GET_SOURCE_FROM_IMPORT___","refs","footer","insertAdjacentHTML","markupFooter","openModalRef","document","querySelector","lightboxOverlayRef","lightboxRef","onCloseModal","classList","remove","body","window","removeEventListener","onCloseModalESC","event","addEventListener","preventDefault","add","toTopBtnsRef","optimizedScroll","_","throttle","scrollTop","documentElement","scrollTo","top","behavior","axios","defaults","baseURL","params","api_key","contentRef","modalRef","closeBtnRef","filmCardRef","console","log","fetchDetails","id","get","data","message","state","isActive","createTemplate","poster_path","original_title","vote_average","vote_count","popularity","genres","overview","genresElem","reduce","acc","el","name","queueClass","watchedClass","queueMessage","watchedMessage","localStorage","getItem","JSON","parse","includes","openModal","e","target","dataset","closeModal","currentTarget","contains","innerHTML","innerWidth","logo","header","headerBg","headerTitle","homeLink","libraryLink","inputForm"],"mappings":"4EAAAA,EAAOC,QAAU,0iB,qBCCjB,IAIIC,EAAO,6KAJoC,EAAQ,OAGjBC,CAFL,EAAQ,SAG0L,08BAEnOH,EAAOC,QAAUC,G,wFCHjBE,IAAKC,OAAOC,mBAAmB,aAAcC,KAG7C,IAAMC,EAAeC,SAASC,cAAc,eACtCC,EAAqBF,SAASC,cAAc,sBAC5CE,EAAcH,SAASC,cAAc,aAa3C,SAASG,IACPD,EAAYE,UAAUC,OAAO,WAE7BX,IAAKY,KAAKF,UAAUC,OAAO,kBAE3BE,OAAOC,oBAAoB,UAAWC,GAGxC,SAASA,EAAgBC,GACJ,WAAfA,EAAMlB,MACRW,IArBJL,EAAaa,iBAAiB,SAG9B,SAAqBD,GACnBA,EAAME,iBACNV,EAAYE,UAAUS,IAAI,WACxBnB,IAAKY,KAAKF,UAAUS,IAAI,kBAE1BN,OAAOI,iBAAiB,UAAWF,MAPrCR,EAAmBU,iBAAiB,QAASR,G,yBCVvCW,EAAef,SAASC,cAAc,aAqB5C,IAAMe,EAAkBC,IAAEC,UAnB1B,WAEIlB,SAASO,KAAKY,UAAY,KAC1BnB,SAASoB,gBAAgBD,UAAY,IAErCJ,EAAaV,UAAUC,OAAO,aAE9BS,EAAaV,UAAUS,IAAI,eAYiB,KAEhDC,EAAaH,iBAAiB,SAV9B,WACEJ,OAAOa,SAAS,CACdC,IAAK,EACLC,SAAU,WAEZR,EAAaV,UAAUS,IAAI,gBAM7BN,OAAOI,iBAAiB,SAAUI,G,qaCzBlCQ,IAAMC,SAASC,QAAU,+BACzBF,IAAMC,SAASE,OAAS,CAAEC,QAAS,oCAEnC,IAAMjC,EAAO,CACXkC,WAAY7B,SAASC,cAAc,kBACnC6B,SAAU9B,SAASC,cAAc,YACjC8B,YAAa/B,SAASC,cAAc,oBACpC+B,YAAahC,SAASC,cAAc,oBAGtCgC,QAAQC,IAAI,gBAAiBvC,EAAKqC,aAElC,IAAMG,EAAY,4CAAG,WAAMC,GAAN,iHAEMZ,IAAMa,IAAN,UAAoBD,EAApB,8BAFN,uBAETE,EAFS,EAETA,KAFS,kBAGVA,GAHU,gCAKjBL,QAAQC,IAAI,KAAMK,SALD,yDAAH,sDASZC,EAAQ,CACZC,UAAU,GAGNC,EAAc,4CAAG,WAAMN,GAAN,8HASXD,EAAaC,GATF,gBAEnBO,EAFmB,EAEnBA,YACAC,EAHmB,EAGnBA,eACAC,EAJmB,EAInBA,aACAC,EALmB,EAKnBA,WACAC,EANmB,EAMnBA,WACAC,EAPmB,EAOnBA,OACAC,EARmB,EAQnBA,SAGIC,EAAaF,EAAOG,QAAO,SAACC,EAAKC,GACrC,OAAOD,EAAM,IAAMC,EAAGC,OADL,IAIfC,EAAa,UACbC,EAAe,UACfC,EAAe,eACfC,EAAiB,iBAEjBC,aAAaC,QAAQ,WAAU,UACXC,KAAKC,MAAMH,aAAaC,QAAQ,WACxCG,SAAS3B,IACrBmB,EAAa,aACbE,EAAe,sBAEfF,EAAa,UACbE,EAAe,iBAGfE,aAAaC,QAAQ,aAAY,UACXC,KAAKC,MAAMH,aAAaC,QAAQ,aACxCG,SAAS3B,IACvBoB,EAAe,aACfE,EAAiB,wBAEjBF,EAAe,UACfE,EAAiB,mBAIrB/D,EAAKkC,WAAWhC,mBACd,YADF,0GAGsE8C,EAHtE,2GAKoDC,EALpD,gQASgFC,EAThF,aASyGC,EATzG,qOAasDC,EAbtD,yOAiBsDH,EAjBtD,iOAqBsDM,EArBtD,0OA0B2DD,EA1B3D,qJA6BqDO,EA7BrD,KA6BsEE,EA7BtE,mEA8BqDH,EA9BrD,KA8BoEE,EA9BpE,6EAzCqB,4CAAH,sDA6EdO,EAAS,4CAAG,WAAMC,GAAN,gFACZA,EAAEC,QAAUD,EAAEC,OAAOC,SAAWF,EAAEC,OAAOC,QAAQ/B,KACnDM,EAAeuB,EAAEC,OAAOC,QAAQ/B,IAChCzC,EAAKmC,SAASzB,UAAUC,OAAO,MAC/BkC,EAAMC,UAAW,GAJH,2CAAH,sDAQT2B,EAAa,SAAAH,GACbzB,EAAMC,WAELwB,EAAExE,MAAmB,WAAXwE,EAAExE,MACbwE,EAAEI,gBAAkBJ,EAAEC,QACtBD,EAAEI,cAAchE,UAAUiE,SAAS,sBAEnCrC,QAAQC,IAAI+B,EAAExE,MACdE,EAAKmC,SAASzB,UAAUS,IAAI,MAC5BnB,EAAKkC,WAAW0C,UAAY,GAC5B/B,EAAMC,UAAW,IAIvB9C,EAAKqC,YAAYpB,iBAAiB,QAASoD,GAC3CrE,EAAKmC,SAASlB,iBAAiB,QAASwD,GACxCzE,EAAKoC,YAAYnB,iBAAiB,QAASwD,GAC3C5D,OAAOI,iBAAiB,UAAWwD,GCvH/B5D,OAAOgE,YAAc,KACvBxE,SAASO,KAAKF,UAAUS,IAAI,c,yDCV9B,IAAMnB,EAAO,CACT8E,KAAMzE,SAASC,cAAc,SACjCyE,OAAQ1E,SAASC,cAAc,UAC/B0E,SAAU3E,SAASC,cAAc,mBACjC2E,YAAa5E,SAASC,cAAc,UACpC4E,SAAU7E,SAASC,cAAc,cACjC6E,YAAa9E,SAASC,cAAc,iBACpCL,OAAQI,SAASC,cAAc,UAC/B8E,UAAW/E,SAASC,cAAc,qBAGnBN,Q","file":"main.ed4cbdb58fef018dd388.js","sourcesContent":["module.exports = \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHZpZXdCb3g9IjAgMCAxNCAxNCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4NCjxwYXRoIGQ9Ik03IDEzLjE4OEw2LjAyIDEyLjIxNzdDMi4zOCA5LjAyOTYxIDAgNi44ODEwOSAwIDQuMjQ3NDNDMCAyLjA5ODkxIDEuNjggMC40MzU1NDcgMy44NSAwLjQzNTU0N0M1LjA0IDAuNDM1NTQ3IDYuMjMgMC45OTAwMDIgNyAxLjg5MDk5QzcuNzcgMC45OTAwMDIgOC45NiAwLjQzNTU0NyAxMC4xNSAwLjQzNTU0N0MxMi4zMiAwLjQzNTU0NyAxNCAyLjA5ODkxIDE0IDQuMjQ3NDNDMTQgNi44ODEwOSAxMS42MiA5LjAyOTYxIDcuOTggMTIuMjE3N0w3IDEzLjE4OFoiIGZpbGw9IiNGRjZCMDgiLz4NCjwvc3ZnPg0K\"","// Imports\nvar ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___ = require(\"../../node_modules/html-loader/dist/runtime/getUrl.js\");\nvar ___HTML_LOADER_IMPORT_0___ = require(\"../images/vector.svg\");\n// Module\nvar ___HTML_LOADER_REPLACEMENT_0___ = ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___(___HTML_LOADER_IMPORT_0___);\nvar code = \"<div class=\\\"container\\\"> <div class=\\\"footer-text\\\"> <div> <span>© 2021 | All Rights Reserved |</span> </div> <div class=\\\"footer-dev\\\"> <span>Developed with</span> <img src=\\\"\" + ___HTML_LOADER_REPLACEMENT_0___ + \"\\\" alt=\\\"\\\" width=\\\"14\\\" class=\\\"heart\\\"> <span>by <a href=\\\"\\\" class=\\\"link-modal\\\">GoIT Students</a></span> </div> <div class=\\\"lightbox\\\"> <div class=\\\"lightbox__overlay\\\"></div> <div class=\\\"lightbox__content\\\"> <ul class=\\\"group-list\\\"> <li class=\\\"content-el\\\"> <a href=\\\"https://github.com/Roman-Siratsky\\\" class=\\\"item-footer\\\">Roman</a> </li> <li class=\\\"content-el\\\"> <a href=\\\"https://github.com/Ilya057\\\" class=\\\"item-footer\\\">Ilya</a> </li> <li class=\\\"content-el\\\"> <a href=\\\"https://github.com/Yaroslav-ciber\\\" class=\\\"item-footer\\\">Yaroslav</a> </li> <li class=\\\"content-el\\\"> <a href=\\\"https://github.com/Dastan-Asl\\\" class=\\\"item-footer\\\">Dastan</a> </li> <li class=\\\"content-el\\\"> <a href=\\\"https://github.com/SmKaterina\\\" class=\\\"item-footer\\\">Katerina</a> </li> <li class=\\\"content-el\\\"> <a href=\\\"https://github.com/Ann-Maksay\\\" class=\\\"item-footer\\\">Anna</a> </li> <li class=\\\"content-el\\\"> <a href=\\\"https://github.com/AndriiPotap\\\" class=\\\"item-footer\\\">Andrii</a> </li> </ul> </div> </div> </div></div>\";\n// Exports\nmodule.exports = code;","import markupFooter from '../HTML/footer.html';\r\n\r\nimport refs from './refs.js';\r\n\r\nrefs.footer.insertAdjacentHTML('afterbegin', markupFooter);\r\n\r\n// =====================================>\r\nconst openModalRef = document.querySelector('.link-modal');\r\nconst lightboxOverlayRef = document.querySelector('.lightbox__overlay');\r\nconst lightboxRef = document.querySelector('.lightbox');\r\n\r\nopenModalRef.addEventListener('click', onOpenModal);\r\nlightboxOverlayRef.addEventListener('click', onCloseModal);\r\n\r\nfunction onOpenModal(event) {\r\n  event.preventDefault();\r\n  lightboxRef.classList.add('is-open');\r\n    refs.body.classList.add('content-hidden')\r\n\r\n  window.addEventListener('keydown', onCloseModalESC);\r\n}\r\n\r\nfunction onCloseModal() {\r\n  lightboxRef.classList.remove('is-open');\r\n\r\n  refs.body.classList.remove('content-hidden')\r\n\r\n  window.removeEventListener('keydown', onCloseModalESC);\r\n}\r\n\r\nfunction onCloseModalESC(event) {\r\n  if (event.code === 'Escape') {\r\n    onCloseModal();\r\n  }\r\n}\r\n","import _ from 'lodash';\r\n\r\nconst toTopBtnsRef = document.querySelector('.toTopBtn');\r\n\r\nfunction scrollIvent() {\r\n  if (\r\n    document.body.scrollTop > 500 ||\r\n    document.documentElement.scrollTop > 500\r\n  ) {\r\n    toTopBtnsRef.classList.remove('is-hidden');\r\n  } else {\r\n    toTopBtnsRef.classList.add('is-hidden');\r\n  }\r\n}\r\n\r\nfunction toTop() {\r\n  window.scrollTo({\r\n    top: 0,\r\n    behavior: 'smooth',\r\n  });\r\n  toTopBtnsRef.classList.add('is-hidden');\r\n}\r\n\r\nconst optimizedScroll = _.throttle(scrollIvent, 500);\r\n\r\ntoTopBtnsRef.addEventListener('click', toTop);\r\nwindow.addEventListener('scroll', optimizedScroll);\r\n","import axios from 'axios';\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\r\naxios.defaults.params = { api_key: 'c8971b346877ee4bba0d277ad44911fe' };\r\n\r\nconst refs = {\r\n  contentRef: document.querySelector('.modal_content'),\r\n  modalRef: document.querySelector('.overlay'),\r\n  closeBtnRef: document.querySelector('.modal_close_btn'),\r\n  filmCardRef: document.querySelector('#data-conteiner'),\r\n};\r\n\r\nconsole.log('FILMCARDREF>>', refs.filmCardRef);\r\n\r\nconst fetchDetails = async id => {\r\n  try {\r\n    const { data } = await axios.get(`/movie/${id}&append_to_response=images`);\r\n    return data;\r\n  } catch (error) {\r\n    console.log(error.message);\r\n  }\r\n};\r\n\r\nconst state = {\r\n  isActive: false,\r\n};\r\n\r\nconst createTemplate = async id => {\r\n  const {\r\n    poster_path,\r\n    original_title,\r\n    vote_average,\r\n    vote_count,\r\n    popularity,\r\n    genres,\r\n    overview,\r\n  } = await fetchDetails(id);\r\n\r\n  const genresElem = genres.reduce((acc, el) => {\r\n    return acc + ' ' + el.name;\r\n  }, ``);\r\n\r\n  let queueClass = 'add-btn';\r\n  let watchedClass = 'add-btn';\r\n  let queueMessage = 'ADD TO QUEUE';\r\n  let watchedMessage = 'ADD TO WATCHED';\r\n\r\n  if (localStorage.getItem('queue')) {\r\n    const queueArry = [...JSON.parse(localStorage.getItem('queue'))];\r\n    if (queueArry.includes(id)) {\r\n      queueClass = 'delete-btn';\r\n      queueMessage = 'DELETE FROM QUEUE';\r\n    } else {\r\n      queueClass = 'add-btn';\r\n      queueMessage = 'ADD TO QUEUE';\r\n    }\r\n  }\r\n  if (localStorage.getItem('watched')) {\r\n    const watchedArry = [...JSON.parse(localStorage.getItem('watched'))];\r\n    if (watchedArry.includes(id)) {\r\n      watchedClass = 'delete-btn';\r\n      watchedMessage = 'DELETE FROM WATCHED';\r\n    } else {\r\n      watchedClass = 'add-btn';\r\n      watchedMessage = 'ADD TO WATCHED';\r\n    }\r\n  }\r\n\r\n  refs.contentRef.insertAdjacentHTML(\r\n    'beforeend',\r\n    `<div class='modal_container'>\r\n        <img class=\"modal_image\" src=\"https://image.tmdb.org/t/p/w500/${poster_path}\"/>\r\n                    <ul class='modal_info'>\r\n                        <li><h2 class=\"modal_title\">${original_title}<h2></li>\r\n                        <li>\r\n                            <div class=\"modal_stats\">\r\n                                <p class=\"modal_text w108\">Vote / Votes</p>\r\n                                <p class=\"modal_text\"><span class=\"modal_score\">${vote_average}</span> / ${vote_count}</p>\r\n                            </div>\r\n                            <div class=\"modal_stats\">\r\n                                <p class=\"modal_text w108\">Popularity</p>\r\n                                <p class=\"modal_text\">${popularity}</p>\r\n                            </div>\r\n                            <div class=\"modal_stats\">\r\n                                <p class=\"modal_text w108\">Original Title</p>\r\n                                <p class=\"modal_text\">${original_title}</p>\r\n                            </div>\r\n                            <div class=\"modal_stats\">\r\n                                <p class=\"modal_text w108\">Genres</p>\r\n                                <p class=\"modal_text\">${genresElem}</p>\r\n                            </div>\r\n                        </li>\r\n                        <li><h2 class=\"modal_about\">About</h2></li>\r\n                        <li>\r\n                            <article class=\"modal_article\">${overview}</article>\r\n                        </li>\r\n                        <li class=\"button_cont\">\r\n                            <button class=\"modal_btn ${watchedClass}\">${watchedMessage}</button>\r\n                            <button class=\"modal_btn ${queueClass}\">${queueMessage}</button>\r\n                        </li>\r\n                    </ul></div>`,\r\n  );\r\n};\r\n\r\nconst openModal = async e => {\r\n  if (e.target && e.target.dataset && e.target.dataset.id) {\r\n    createTemplate(e.target.dataset.id);\r\n    refs.modalRef.classList.remove('dn');\r\n    state.isActive = true;\r\n  }\r\n};\r\n\r\nconst closeModal = e => {\r\n  if (state.isActive) {\r\n    if (\r\n      (e.code && e.code === 'Escape') ||\r\n      e.currentTarget === e.target ||\r\n      e.currentTarget.classList.contains('modal_close_btn')\r\n    ) {\r\n      console.log(e.code);\r\n      refs.modalRef.classList.add('dn');\r\n      refs.contentRef.innerHTML = '';\r\n      state.isActive = false;\r\n    }\r\n  }\r\n};\r\nrefs.filmCardRef.addEventListener('click', openModal);\r\nrefs.modalRef.addEventListener('click', closeModal);\r\nrefs.closeBtnRef.addEventListener('click', closeModal);\r\nwindow.addEventListener('keydown', closeModal);\r\n","import './main.scss';\r\nimport './js/footer.js';\r\nimport './js/backToTop';\r\nimport './js/modal';\r\n//import test from './js/example';\r\n\r\n// ключ для использования API\r\n//const key = 'aef9cffb51e8fe7e1c3e621e64df0279';\r\n\r\nif (window.innerWidth <= 767) {\r\n  document.body.classList.add('js-mobile');\r\n}\r\n","const refs = {\r\n    logo: document.querySelector('.logo'),\r\nheader: document.querySelector('header'),\r\nheaderBg: document.querySelector('.header-bg-home'),\r\nheaderTitle: document.querySelector('.title'),\r\nhomeLink: document.querySelector('.home-link'),\r\nlibraryLink: document.querySelector('.library-link'),\r\nfooter: document.querySelector('footer'),\r\ninputForm: document.querySelector('.search-box-home'),\r\n};\r\n\r\nexport default refs;"],"sourceRoot":""}