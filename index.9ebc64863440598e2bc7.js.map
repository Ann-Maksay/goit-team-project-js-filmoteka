{"version":3,"sources":["webpack:///./images/symbol-defs1.svg","webpack:///./js/header.js","webpack:///./js/genre.js","webpack:///./js/fetchTrending.js","webpack:///./js/pagination.js","webpack:///./js/createTrendingPage.js","webpack:///./js/fetchQuery.js","webpack:///./js/createSearchPage.js","webpack:///./images/search.svg","webpack:///./templates/card-film-main.hbs","webpack:///./js/refs.js","webpack:///./js/spiner.js","webpack:///./HTML/header.html","webpack:///./templates/pagination.hbs"],"names":["module","exports","document","querySelector","insertAdjacentHTML","header","axios","get","data","genre","genres","getGenreList","defaults","baseURL","params","api_key","trending","page","numberOfPages","fetchTrends","infoList","results","total_pages","filmList","element","makeCard","film","push","console","log","year","release_date","slice","genreList","ganreList","filter","elem","genre_ids","includes","id","name","map","title","poster_path","yearRelease","vote_average","formattedGeners","join","pagination","currentPage","paginationRef","makeBtns","this","makeMiddleOfList","changeActive","makeStartOfList","makeEndOfList","makeShortList","makeMobileBtns","makeShortMobalList","makeReverseShortList","makeShortMiddleList","arryBtn","btnsList","btnTemp","innerHTML","count","btnsArry","querySelectorAll","forEach","classList","contains","remove","textContent","add","refs","listRef","event","eventTarget","target","nodeName","steapBack","steapForward","Number","window","scrollTo","top","behavior","makeList","spiner","showSpin","list","listNoda","cartTemp","hideSpin","makePagination","body","addEventListener","searching","searchQuery","fetchQuery","length","searchInput","formRef","filmsContainer","searchPagination","errorRef","optimazeSearch","_","debounce","searchFilm","preventDefault","inputValue","value","steapBackSearch","steapForwardSearch","makeSearchList","makeSearchPagination","Handlebars","template","container","depth0","helpers","partials","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call","stack1","program","noop","logo","headerBg","headerTitle","homeLink","libraryLink","footer","inputForm","spinRef","___HTML_LOADER_GET_SOURCE_FROM_IMPORT___","___HTML_LOADER_IMPORT_0___","___HTML_LOADER_IMPORT_1___","code","hash","lambda"],"mappings":"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","file":"index.9ebc64863440598e2bc7.js","sourcesContent":["module.exports = \"data:image/svg+xml;base64,PHN2ZyBhcmlhLWhpZGRlbj0idHJ1ZSIgc3R5bGU9InBvc2l0aW9uOiBhYnNvbHV0ZTsgd2lkdGg6IDA7IGhlaWdodDogMDsgb3ZlcmZsb3c6IGhpZGRlbjsiIHZlcnNpb249IjEuMSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+DQo8ZGVmcz4NCjxzeW1ib2wgaWQ9Imljb24tZmlsbSIgdmlld0JveD0iMCAwIDIwIDMyIj4NCjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzgxODE4MSIgc3R5bGU9InN0cm9rZTogdmFyKC0tY29sb3IxLCAjODE4MTgxKSIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iODUuNTQyOSIgc3Ryb2tlLXdpZHRoPSIyLjIwMTQiIGQ9Ik00LjQ2NiAwLjA4OHYzMS45ODkiPjwvcGF0aD4NCjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzgxODE4MSIgc3R5bGU9InN0cm9rZTogdmFyKC0tY29sb3IxLCAjODE4MTgxKSIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iODUuNTQyOSIgc3Ryb2tlLXdpZHRoPSIyLjIwMTQiIGQ9Ik0xNS40NzMgMC4xMDJ2MzIuMzQ1Ij48L3BhdGg+DQo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4MTgxODEiIHN0eWxlPSJzdHJva2U6IHZhcigtLWNvbG9yMSwgIzgxODE4MSkiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9Ijg1LjU0MjkiIHN0cm9rZS13aWR0aD0iMi4yMDE0IiBkPSJNLTEuMDM3IDEwLjYyOWgyMi4wMTMiPjwvcGF0aD4NCjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzgxODE4MSIgc3R5bGU9InN0cm9rZTogdmFyKC0tY29sb3IxLCAjODE4MTgxKSIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iODUuNTQyOSIgc3Ryb2tlLXdpZHRoPSIyLjIwMTQiIGQ9Ik0tMS4wMzcgNS4xMjZoNS41MDMiPjwvcGF0aD4NCjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzgxODE4MSIgc3R5bGU9InN0cm9rZTogdmFyKC0tY29sb3IxLCAjODE4MTgxKSIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iODUuNTQyOSIgc3Ryb2tlLXdpZHRoPSIyLjIwMTQiIGQ9Ik0tMS4wMzcgMTYuMTMyaDUuNTAzIj48L3BhdGg+DQo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4MTgxODEiIHN0eWxlPSJzdHJva2U6IHZhcigtLWNvbG9yMSwgIzgxODE4MSkiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9Ijg1LjU0MjkiIHN0cm9rZS13aWR0aD0iMi4yMDE0IiBkPSJNMTUuNDczIDE2LjEzMmg1LjUwMyI+PC9wYXRoPg0KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODE4MTgxIiBzdHlsZT0ic3Ryb2tlOiB2YXIoLS1jb2xvcjEsICM4MTgxODEpIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSI4NS41NDI5IiBzdHJva2Utd2lkdGg9IjIuMjAxNCIgZD0iTTE1LjQ3MyA1LjEyNmg1LjUwMyI+PC9wYXRoPg0KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODE4MTgxIiBzdHlsZT0ic3Ryb2tlOiB2YXIoLS1jb2xvcjEsICM4MTgxODEpIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSI4NS41NDI5IiBzdHJva2Utd2lkdGg9IjIuMjAxNCIgZD0iTS0xLjEzOSAyMS42NjdoMjIuMDEzIj48L3BhdGg+DQo8cGF0aCBmaWxsPSJub25lIiBzdHJva2U9IiM4MTgxODEiIHN0eWxlPSJzdHJva2U6IHZhcigtLWNvbG9yMSwgIzgxODE4MSkiIHN0cm9rZS1saW5lam9pbj0icm91bmQiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLW1pdGVybGltaXQ9Ijg1LjU0MjkiIHN0cm9rZS13aWR0aD0iMi4yMDE0IiBkPSJNMTUuNTM3IDI3LjIxOWg1LjUwMyI+PC9wYXRoPg0KPHBhdGggZmlsbD0ibm9uZSIgc3Ryb2tlPSIjODE4MTgxIiBzdHlsZT0ic3Ryb2tlOiB2YXIoLS1jb2xvcjEsICM4MTgxODEpIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBzdHJva2UtbGluZWNhcD0icm91bmQiIHN0cm9rZS1taXRlcmxpbWl0PSI4NS41NDI5IiBzdHJva2Utd2lkdGg9IjIuMjAxNCIgZD0iTS0xLjEyNCAyNy4yNDNoNS41MDMiPjwvcGF0aD4NCjwvc3ltYm9sPg0KPHN5bWJvbCBpZD0iaWNvbi1SYW1rYSIgdmlld0JveD0iMCAwIDMyIDMyIj4NCjxwYXRoIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzgxODE4MSIgc3R5bGU9InN0cm9rZTogdmFyKC0tY29sb3IxLCAjODE4MTgxKSIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbWl0ZXJsaW1pdD0iNzkuODQwMyIgc3Ryb2tlLXdpZHRoPSIyLjkyMTYiIGQ9Ik0xLjQ2MSAzLjkxM3YyNC4xNjFjMCAxLjM2MSAxLjEwNCAyLjQ2NSAyLjQ2NSAyLjQ2NWgyNC4xNjJjMS4zNjEgMCAyLjQ2NS0xLjEwNCAyLjQ2NS0yLjQ2NXYtMjQuMTYxYzAtMS4zNjEtMS4xMDQtMi40NjUtMi40NjUtMi40NjVoLTI0LjE2MmMtMS4zNjEgMC0yLjQ2NSAxLjEwNC0yLjQ2NSAyLjQ2NXoiPjwvcGF0aD4NCjwvc3ltYm9sPg0KPC9kZWZzPg0KPC9zdmc+DQo=\"","import header from '../HTML/header.html';\r\n\r\nconst homeHeaderRef = document.querySelector('header');\r\nhomeHeaderRef.insertAdjacentHTML('afterbegin', header);\r\n\r\n\r\n\r\n\r\n","import axios from 'axios';\r\n\r\nasync function getGenreList() {\r\n    const { data } = await axios.get('genre/movie/list?');\r\n    const genre = data.genres;\r\n    return genre;\r\n}\r\n\r\nexport default getGenreList;\r\n\r\n","import axios from 'axios';\r\nimport genreList from './genre';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\r\naxios.defaults.params = { api_key: 'aef9cffb51e8fe7e1c3e621e64df0279' }\r\n\r\n\r\nconst trending = {\r\n    page: 1,\r\n    numberOfPages: 0,\r\n\r\n    async fetchTrends() {\r\n        try {\r\n            this.numberOfPages = 0;\r\n        const {data} = await axios.get(`/trending/movie/day?page=${this.page}`);\r\n        const infoList = data.results;\r\n\r\n        if (data.total_pages <= 20) {\r\n            this.numberOfPages = data.total_pages;\r\n        } else {\r\n            this.numberOfPages = 20;\r\n        }\r\n\r\n        const filmList = [];\r\n        for (const element of infoList) {\r\n            const film = await this.makeCard(element);\r\n            filmList.push(film);\r\n        };\r\n            \r\n        return filmList;\r\n        } catch (error) {\r\n            console.log(error);\r\n        }\r\n    },\r\n\r\n    async makeCard(film) {\r\n        const year = film.release_date.slice(0, 4);\r\n\r\n        const ganreList = await genreList();\r\n\r\n        const genre = ganreList.filter(elem => {\r\n            if (film.genre_ids.includes(elem.id)) {\r\n                return elem.name;\r\n            }\r\n        }).map(elem => elem.name);\r\n\r\n        return {\r\n            id : film.id,\r\n            title: film.title,\r\n            poster_path: film.poster_path,\r\n            yearRelease: year,\r\n            vote_average: film.vote_average,\r\n            formattedGeners: genre.join(', '),\r\n        }\r\n    },\r\n}\r\n\r\nexport default trending;\r\n","import btnTemp from '../templates/pagination.hbs';\r\n\r\n// const paginationRef = document.querySelector('.js-pagination');\r\n\r\nconst pagination = {\r\n  currentPage: 0,\r\n  numberOfPages: 0,\r\n  paginationRef: document.querySelector('.js-pagination'),\r\n  makeBtns() {\r\n    if (\r\n      this.currentPage - 5 > 0 &&\r\n      this.currentPage + 5 <= this.numberOfPages\r\n    ) {\r\n      // console.log('middle ' + this.currentPage + ' ' + this.numberOfPages);\r\n      this.makeMiddleOfList();\r\n      this.changeActive();\r\n      return;\r\n    }\r\n    if (\r\n      this.currentPage - 5 <= 0 &&\r\n      this.currentPage + 5 <= this.numberOfPages\r\n    ) {\r\n      this.makeStartOfList();\r\n      this.changeActive();\r\n      return;\r\n    }\r\n    if (\r\n      this.currentPage - 5 > 0 &&\r\n      this.currentPage + 5 >= this.numberOfPages\r\n    ) {\r\n      this.makeEndOfList();\r\n      this.changeActive();\r\n      return;\r\n    }\r\n    this.makeShortList();\r\n    this.changeActive();\r\n  },\r\n\r\n  makeMobileBtns() {\r\n    if (this.numberOfPages <= 5 || this.currentPage <= 3) {\r\n      console.log('short');\r\n      this.makeShortMobalList();\r\n      this.changeActive();\r\n      return;\r\n    }\r\n    if (this.currentPage + 4 >= this.numberOfPages) {\r\n      console.log('reverse');\r\n      this.makeReverseShortList();\r\n      this.changeActive();\r\n      return;\r\n    }\r\n    console.log('midlle');\r\n    this.makeShortMiddleList();\r\n    this.changeActive();\r\n  },\r\n\r\n  makeMiddleOfList() {\r\n    const arryBtn = [\r\n      1,\r\n      '...',\r\n      this.currentPage - 2,\r\n      this.currentPage - 1,\r\n      this.currentPage,\r\n      this.currentPage + 1,\r\n      this.currentPage + 2,\r\n      '...',\r\n      this.numberOfPages,\r\n    ];\r\n    // console.log(arryBtn);\r\n    const btnsList = btnTemp(arryBtn);\r\n    this.paginationRef.innerHTML = btnsList;\r\n  },\r\n\r\n  makeStartOfList() {\r\n    const arryBtn = [1, 2, 3, 4, 5, 6, 7, '...', this.numberOfPages];\r\n    const btnsList = btnTemp(arryBtn);\r\n    this.paginationRef.innerHTML = btnsList;\r\n  },\r\n\r\n  makeEndOfList() {\r\n    const arryBtn = [\r\n      1,\r\n      '...',\r\n      this.numberOfPages - 6,\r\n      this.numberOfPages - 5,\r\n      this.numberOfPages - 4,\r\n      this.numberOfPages - 3,\r\n      this.numberOfPages - 2,\r\n      this.numberOfPages - 1,\r\n      this.numberOfPages,\r\n    ];\r\n    const btnsList = btnTemp(arryBtn);\r\n    this.paginationRef.innerHTML = btnsList;\r\n  },\r\n\r\n  makeShortList() {\r\n    const arryBtn = [];\r\n    for (let count = 1; count <= this.numberOfPages; count++) {\r\n      arryBtn.push(count);\r\n    }\r\n    const btnsList = btnTemp(arryBtn);\r\n    this.paginationRef.innerHTML = btnsList;\r\n  },\r\n\r\n  makeShortMobalList() {\r\n    const arryBtn = [];\r\n    for (let count = 1; count <= 5; count++) {\r\n      arryBtn.push(count);\r\n    }\r\n    const btnsList = btnTemp(arryBtn);\r\n    this.paginationRef.innerHTML = btnsList;\r\n  },\r\n\r\n  makeReverseShortList() {\r\n    const arryBtn = [];\r\n    for (let count = 4; count >= 0; count--) {\r\n      arryBtn.push(this.numberOfPages - count);\r\n    }\r\n    const btnsList = btnTemp(arryBtn);\r\n    this.paginationRef.innerHTML = btnsList;\r\n  },\r\n\r\n  makeShortMiddleList() {\r\n    const arryBtn = [];\r\n    for (\r\n      let count = this.currentPage - 2;\r\n      count <= this.currentPage + 2;\r\n      count++\r\n    ) {\r\n      arryBtn.push(count);\r\n    }\r\n    const btnsList = btnTemp(arryBtn);\r\n    this.paginationRef.innerHTML = btnsList;\r\n  },\r\n\r\n  changeActive() {\r\n    const btnsArry = this.paginationRef.querySelectorAll('.page-link');\r\n    btnsArry.forEach(elem => {\r\n      if (elem.classList.contains('active-btn-pg')) {\r\n        elem.classList.remove('active-btn-pg');\r\n      }\r\n    });\r\n\r\n    btnsArry.forEach(elem => {\r\n      if (elem.textContent === `${this.currentPage}`) {\r\n        elem.classList.add('active-btn-pg');\r\n      }\r\n    });\r\n  },\r\n};\r\n\r\nexport default pagination;\r\n","import trending from './fetchTrending';\r\nimport pagination from './pagination';\r\nimport cartTemp from '../templates/card-film-main.hbs';\r\nimport spiner from './spiner';\r\n\r\nconst refs = {\r\n  paginationRef: document.querySelector('.js-pagination'),\r\n  listRef: document.querySelector('.film-list'),\r\n};\r\n\r\nrefs.paginationRef.addEventListener('click', usePagination);\r\npagination.paginationRef = document.querySelector('.js-pagination');\r\n\r\nasync function usePagination(event) {\r\n  const eventTarget = event.target;\r\n\r\n  if (\r\n    (eventTarget.nodeName !== 'SPAN' && eventTarget.nodeName !== 'I') ||\r\n    eventTarget.classList.contains('active-btn-pg') ||\r\n    eventTarget.textContent === '...'\r\n  ) {\r\n    return;\r\n  }\r\n\r\n  if (eventTarget.classList.contains('js-previous')) {\r\n    await steapBack();\r\n    return;\r\n  }\r\n  if (eventTarget.classList.contains('js-next')) {\r\n    await steapForward();\r\n    return;\r\n  }\r\n\r\n  trending.page = Number(eventTarget.textContent);\r\n\r\n  window.scrollTo({\r\n    top: 200,\r\n    behavior: 'smooth',\r\n  });\r\n\r\n  await makeList();\r\n\r\n  pagination.currentPage = 0;\r\n  pagination.numberOfPages = 0;\r\n}\r\n\r\nasync function steapBack() {\r\n  console.log(trending.page);\r\n  if (trending.page === 1) {\r\n    return;\r\n  }\r\n  trending.page--;\r\n\r\n  await makeList();\r\n\r\n  pagination.currentPage = 0;\r\n  pagination.numberOfPages = 0;\r\n\r\n  window.scrollTo({\r\n    top: 200,\r\n    behavior: 'smooth',\r\n  });\r\n}\r\n\r\nasync function steapForward() {\r\n  console.log(trending.page);\r\n  if (trending.page === trending.numberOfPages) {\r\n    return;\r\n  }\r\n  trending.page++;\r\n\r\n  await makeList();\r\n\r\n  pagination.currentPage = 0;\r\n  pagination.numberOfPages = 0;\r\n\r\n  window.scrollTo({\r\n    top: 200,\r\n    behavior: 'smooth',\r\n  });\r\n}\r\n\r\nasync function makeList() {\r\n  try {\r\n    spiner.showSpin();\r\n    const list = await trending.fetchTrends();\r\n    const listNoda = cartTemp(list);\r\n\r\n    refs.listRef.innerHTML = listNoda;\r\n    spiner.hideSpin();\r\n    makePagination(trending.page, trending.numberOfPages);\r\n\r\n    return listNoda;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nasync function makePagination(page, numberOfPages) {\r\n  pagination.currentPage = page;\r\n  pagination.numberOfPages = numberOfPages;\r\n  if (document.body.classList.contains('js-mobile')) {\r\n    pagination.makeMobileBtns();\r\n    return;\r\n  }\r\n  pagination.makeBtns();\r\n}\r\n\r\nmakeList();\r\n","import axios from 'axios';\r\nimport genreList from './genre';\r\n\r\naxios.defaults.baseURL = 'https://api.themoviedb.org/3';\r\naxios.defaults.params = { api_key: 'aef9cffb51e8fe7e1c3e621e64df0279' };\r\n\r\nconst searching = {\r\n  page: 1,\r\n  numberOfPages: 0,\r\n  searchQuery: null,\r\n\r\n  async fetchQuery() {\r\n    try {\r\n      this.numberOfPages = 0;\r\n      const { data } = await axios.get(\r\n        `search/movie?query=${this.searchQuery}&page=${this.page}`,\r\n      );\r\n      const infoList = data.results;\r\n\r\n      if (infoList.length === 0) {\r\n        return 0;\r\n      }\r\n\r\n      if (data.total_pages <= 20) {\r\n        this.numberOfPages = data.total_pages;\r\n      } else {\r\n        this.numberOfPages = 20;\r\n      }\r\n\r\n      const filmList = [];\r\n\r\n      for (const element of infoList) {\r\n        const film = await this.makeCard(element);\r\n        filmList.push(film);\r\n      }\r\n\r\n      return filmList;\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  },\r\n\r\n  async makeCard(film) {\r\n    const year = film.release_date.slice(0, 4);\r\n\r\n    const ganreList = await genreList();\r\n\r\n    const genre = ganreList\r\n      .filter(elem => {\r\n        if (film.genre_ids.includes(elem.id)) {\r\n          return elem.name;\r\n        }\r\n      })\r\n      .map(elem => elem.name);\r\n\r\n    return {\r\n      id: film.id,\r\n      title: film.title,\r\n      poster_path: film.poster_path,\r\n      yearRelease: year,\r\n      vote_average: film.vote_average,\r\n      formattedGeners: genre.join(', '),\r\n    };\r\n  },\r\n};\r\n\r\nexport default searching;\r\n","import searching from './fetchQuery';\r\nimport _ from 'lodash';\r\nimport pagination from './pagination';\r\nimport cartTemp from '../templates/card-film-main.hbs';\r\nimport spiner from './spiner';\r\n\r\nconst refs = {\r\n  searchInput: document.querySelector('.js-search-input'),\r\n  formRef: document.querySelector('.form-search-home'),\r\n  filmsContainer: document.querySelector('.js-films'),\r\n  searchPagination: document.querySelector('.search-pagination'),\r\n  paginationRef: document.querySelector('.js-pagination'),\r\n  errorRef: document.querySelector('#searchError'),\r\n};\r\n\r\nexport default refs;\r\n\r\nconst optimazeSearch = _.debounce(searchFilm, 700);\r\n\r\nrefs.searchInput.addEventListener('input', optimazeSearch);\r\nrefs.formRef.addEventListener('submit', searchFilm);\r\nrefs.searchPagination.addEventListener('click', searchFilm);\r\n\r\nasync function searchFilm(event) {\r\n  event.preventDefault();\r\n\r\n  const eventTarget = event.target;\r\n  const inputValue = eventTarget.value;\r\n\r\n  if (!refs.errorRef.classList.contains('is-hidden')) {\r\n    refs.errorRef.classList.add('is-hidden');\r\n  }\r\n\r\n  if (\r\n    (eventTarget.nodeName !== 'SPAN' &&\r\n      eventTarget.nodeName !== 'I' &&\r\n      eventTarget.nodeName !== 'INPUT') ||\r\n    eventTarget.classList.contains('active-btn-pg') ||\r\n    eventTarget.textContent === '...' ||\r\n    (inputValue == null && eventTarget.nodeName === 'INPUT')\r\n  ) {\r\n    return;\r\n  }\r\n\r\n  searching.searchQuery = refs.searchInput.value;\r\n\r\n  if (eventTarget.classList.contains('js-previous')) {\r\n    await steapBackSearch();\r\n    return;\r\n  }\r\n  if (eventTarget.classList.contains('js-next')) {\r\n    await steapForwardSearch();\r\n    return;\r\n  }\r\n  if (eventTarget.nodeName === 'SPAN' || eventTarget.nodeName === 'I') {\r\n    searching.page = Number(eventTarget.textContent);\r\n    window.scrollTo({\r\n      top: 200,\r\n      behavior: 'smooth',\r\n    });\r\n  } else {\r\n    searching.page = 1;\r\n  }\r\n\r\n  await makeSearchList();\r\n\r\n  pagination.currentPage = 0;\r\n  pagination.numberOfPages = 0;\r\n}\r\n\r\nasync function steapBackSearch() {\r\n  console.log(searching.page);\r\n  if (searching.page === 1) {\r\n    return;\r\n  }\r\n  searching.page--;\r\n\r\n  await makeSearchList();\r\n\r\n  pagination.currentPage = 0;\r\n  pagination.numberOfPages = 0;\r\n\r\n  window.scrollTo({\r\n    top: 200,\r\n    behavior: 'smooth',\r\n  });\r\n}\r\n\r\nasync function steapForwardSearch() {\r\n  console.log(searching.page);\r\n  if (searching.page === searching.numberOfPages) {\r\n    return;\r\n  }\r\n  searching.page++;\r\n\r\n  await makeSearchList();\r\n\r\n  pagination.currentPage = 0;\r\n  pagination.numberOfPages = 0;\r\n\r\n  window.scrollTo({\r\n    top: 200,\r\n    behavior: 'smooth',\r\n  });\r\n}\r\n\r\nasync function makeSearchList() {\r\n  try {\r\n    spiner.showSpin();\r\n    const list = await searching.fetchQuery();\r\n    if (!list) {\r\n      refs.filmsContainer.innerHTML = ' ';\r\n      spiner.hideSpin();\r\n      console.log(refs.errorRef);\r\n      if (refs.errorRef.classList.contains('is-hidden')) {\r\n        refs.errorRef.classList.remove('is-hidden');\r\n      }\r\n      makeSearchPagination(searching.page, searching.numberOfPages);\r\n      return;\r\n    }\r\n\r\n    const listNoda = cartTemp(list);\r\n\r\n    refs.filmsContainer.innerHTML = listNoda;\r\n    spiner.hideSpin();\r\n    makeSearchPagination(searching.page, searching.numberOfPages);\r\n\r\n    return listNoda;\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n}\r\n\r\nasync function makeSearchPagination(page, numberOfPages) {\r\n  pagination.paginationRef = refs.searchPagination;\r\n  refs.paginationRef.classList.add('is-hidden');\r\n  refs.searchPagination.classList.remove('is-hidden');\r\n  pagination.currentPage = page;\r\n  pagination.numberOfPages = numberOfPages;\r\n  if (document.body.classList.contains('js-mobile')) {\r\n    pagination.makeMobileBtns();\r\n    return;\r\n  }\r\n  pagination.makeBtns();\r\n}\r\n","module.exports = \"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMiIgaGVpZ2h0PSIxMiIgZmlsbD0ibm9uZSIgIHN0cm9rZT0iI2ZmZiIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIgeG1sbnM6dj0iaHR0cHM6Ly92ZWN0YS5pby9uYW5vIj48cGF0aCBkPSJNNS41IDkuNWE0IDQgMCAxIDAgMC04IDQgNCAwIDEgMCAwIDh6Ii8+PHBhdGggZD0iTTEwLjUgMTAuNUw4LjMyNSA4LjMyNSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9zdmc+\"","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"list-item\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":31},\"end\":{\"line\":2,\"column\":37}}}) : helper)))\n    + \"\\\">\\r\\n    <div class=\\\"film-card\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":3,\"column\":36},\"end\":{\"line\":3,\"column\":42}}}) : helper)))\n    + \"\\\">\\r\\n\\r\\n        <div class='img-container'><img class=\\\"film-img\\\" src=\\\"https://image.tmdb.org/t/p/w300\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"poster_path\") || (depth0 != null ? lookupProperty(depth0,\"poster_path\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"poster_path\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":5,\"column\":93},\"end\":{\"line\":5,\"column\":108}}}) : helper)))\n    + \"\\\"\\r\\n                alt=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":21},\"end\":{\"line\":6,\"column\":30}}}) : helper)))\n    + \"\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":6,\"column\":41},\"end\":{\"line\":6,\"column\":47}}}) : helper)))\n    + \"\\\"></div>\\r\\n        <h3 class=\\\"film-title\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":40},\"end\":{\"line\":7,\"column\":46}}}) : helper)))\n    + \"\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"title\") || (depth0 != null ? lookupProperty(depth0,\"title\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"title\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":48},\"end\":{\"line\":7,\"column\":57}}}) : helper)))\n    + \"</h3>\\r\\n        <div class=\\\"description\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":8,\"column\":42},\"end\":{\"line\":8,\"column\":48}}}) : helper)))\n    + \"\\\">\\r\\n            <p class=\\\"description-title\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":50},\"end\":{\"line\":9,\"column\":56}}}) : helper)))\n    + \"\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"formattedGeners\") || (depth0 != null ? lookupProperty(depth0,\"formattedGeners\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"formattedGeners\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":9,\"column\":58},\"end\":{\"line\":9,\"column\":77}}}) : helper)))\n    + \"</p>\\r\\n            <p class=\\\"strip description-title\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":10,\"column\":56},\"end\":{\"line\":10,\"column\":62}}}) : helper)))\n    + \"\\\">|</p>\\r\\n            <p class=\\\"description-title\\\" data-id=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"id\") || (depth0 != null ? lookupProperty(depth0,\"id\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"id\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":50},\"end\":{\"line\":11,\"column\":56}}}) : helper)))\n    + \"\\\">\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"yearRelease\") || (depth0 != null ? lookupProperty(depth0,\"yearRelease\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"yearRelease\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":58},\"end\":{\"line\":11,\"column\":73}}}) : helper)))\n    + \"</p>\\r\\n        </div>\\r\\n    </div>\\r\\n</li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":1,\"column\":0},\"end\":{\"line\":15,\"column\":9}}})) != null ? stack1 : \"\");\n},\"useData\":true});","const refs = {\r\n    logo: document.querySelector('.logo'),\r\nheader: document.querySelector('header'),\r\nheaderBg: document.querySelector('.header-bg-home'),\r\nheaderTitle: document.querySelector('.title'),\r\nhomeLink: document.querySelector('.home-link'),\r\nlibraryLink: document.querySelector('.library-link'),\r\nfooter: document.querySelector('footer'),\r\ninputForm: document.querySelector('.search-box-home'),\r\n};\r\n\r\nexport default refs;","const spinRef = document.querySelector('.js-spin');\r\n\r\n\r\nconst spiner = {\r\n\r\n    showSpin() {\r\n        spinRef.classList.remove('is-hidden');\r\n    },\r\n\r\n    hideSpin() {\r\n        spinRef.classList.add('is-hidden');\r\n    }\r\n}\r\n\r\nexport default spiner;","// Imports\nvar ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___ = require(\"../../node_modules/html-loader/dist/runtime/getUrl.js\");\nvar ___HTML_LOADER_IMPORT_0___ = require(\"../images/symbol-defs1.svg\");\nvar ___HTML_LOADER_IMPORT_1___ = require(\"../images/search.svg\");\n// Module\nvar ___HTML_LOADER_REPLACEMENT_0___ = ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___(___HTML_LOADER_IMPORT_0___, { hash: \"#icon-film\" });\nvar ___HTML_LOADER_REPLACEMENT_1___ = ___HTML_LOADER_GET_SOURCE_FROM_IMPORT___(___HTML_LOADER_IMPORT_1___);\nvar code = \" <div class=\\\"header-bg-home header-container\\\"> <div class=\\\"conteiner\\\"> <nav> <div class=\\\"flex-conteiner\\\"> <div class=\\\"logobox\\\"> <a href=\\\"./index.html\\\" class=\\\"hover-link\\\"> <svg class=\\\"logo\\\" width=\\\"32\\\" height=\\\"32\\\" viewBox=\\\"9 0 50 50\\\"> <use href=\\\"\" + ___HTML_LOADER_REPLACEMENT_0___ + \"\\\"></use> </svg> </a> </div> <div class=\\\"logofon\\\"></div> <div class=\\\"logo-text\\\"> <a href=\\\"./index.html\\\" class=\\\"title hover-link\\\">Filmoteka</a> </div> <ul class=\\\"site-nav-list\\\"> <li class=\\\"item\\\"> <a href=\\\"\\\" class=\\\"nav-link active-el home-link hover-link\\\">HOME</a> </li> <li class=\\\"item\\\"> <a href=\\\"./library.html\\\" class=\\\"nav-link library-link hover-link\\\">MY LIBRARY</a> </li> </ul> </div> <form class=\\\"form-search-home\\\"> <input type=\\\"text\\\" class=\\\"search-text js-search-input\\\" name=\\\"query\\\" placeholder=\\\"Поиск фильмов\\\"/> <img class=\\\"search-img\\\" src=\\\"\" + ___HTML_LOADER_REPLACEMENT_1___ + \"\\\" alt=\\\"Поиск\\\"/> </form> <p class=\\\"search-error is-hidden\\\" id=\\\"searchError\\\">Search result not successful. Enter the correct movie name and try again</p> </nav> </div> </div> \";\n// Exports\nmodule.exports = code;","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"1\":function(container,depth0,helpers,partials,data) {\n    return \"<li class=\\\"page-item\\\"><span class=\\\"page-link\\\">\"\n    + container.escapeExpression(container.lambda(depth0, depth0))\n    + \"</span></li>\\r\\n\";\n},\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var stack1, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<li class=\\\"page-item\\\"><span class=\\\"page-link js-previous\\\"><i class=\\\"bi bi-arrow-left js-previous\\\"></i></span></li>\\r\\n\"\n    + ((stack1 = lookupProperty(helpers,\"each\").call(depth0 != null ? depth0 : (container.nullContext || {}),depth0,{\"name\":\"each\",\"hash\":{},\"fn\":container.program(1, data, 0),\"inverse\":container.noop,\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":0},\"end\":{\"line\":4,\"column\":9}}})) != null ? stack1 : \"\")\n    + \"<li class=\\\"page-item\\\"><span class=\\\"page-link js-next\\\"><i class=\\\"bi bi-arrow-right js-next\\\"></i></span></li>\";\n},\"useData\":true});"],"sourceRoot":""}